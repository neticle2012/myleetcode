# 84. 柱状图中最大的矩形

[力扣题目链接](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)


# 初见思路

## 基本思路
待补充

## 边界问题


## Java代码
```java
class Solution {
    public int largestRectangleArea(int[] heights) {
        int max = Integer.MIN_VALUE;
        if (heights == null){
            return max;
        }

        Deque<Node> stack = new LinkedList<>();//单调栈，从栈底到栈顶依次递增
        int curTime = 0;
        for (; curTime < heights.length; curTime++){
            int prevTime = curTime;
            while (!stack.isEmpty() && heights[curTime] < stack.peek().val){
                Node popNode = stack.pop();
                prevTime = popNode.prevTime;
                max = Math.max(max, popNode.val * (curTime - popNode.prevTime));
            }
            stack.push(new Node(heights[curTime], prevTime));
        }

        //最后将栈中剩余的元素依次出栈，计算它们可以勾勒出来矩形的最大面积
        while (!stack.isEmpty()){
            Node popNode = stack.pop();
            max = Math.max(max, popNode.val * (curTime - popNode.prevTime));
        }
        return max;
    }
}

class Node {//栈内的每个元素
    int val;
    int prevTime;//使用该数值勾勒出的最大矩形的起始下标

    public Node(int val, int prevTime){
        this.val = val;
        this.prevTime = prevTime;
    }
}
```

## 复杂度分析
- 时间复杂度：$O(1)$
- 空间复杂度：$O(Nk)$，其中$N$为每个栈的大小，$k$为我们需要实现的栈的个数，本题中为$k=3$


# 民间解法

## 基本思路


## 边界问题


## Java代码
```java

```

## 复杂度分析
- 时间复杂度：$O(1)$
- 空间复杂度：$O(Nk)$，其中$N$为每个栈的大小，$k$为我们需要实现的栈的个数，本题中为$k=3$