# 122. 买卖股票的最佳时机 II

[力扣题目链接](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)


# 初见思路

## 基本思路
<strong>其实最终利润是可以分解的</strong>，假如第0天买入，第3天卖出，那么利润为：`prices[3] - prices[0] = (prices[3] - prices[2]) + (prices[2] - prices[1]) + (prices[1] - prices[0])`

此时就是<strong>把利润分解为每天为单位的维度</strong>，而不是从0天到第3天整体去考虑！

<img src="../Pictures/122. 买卖股票的最佳时机 II.png" width="80%"/>

从图中可以发现，其实我们需要收集每天的正利润就可以，<strong>收集正利润的区间，就是股票买卖的区间</strong>，而我们只需要关注最终利润，不需要记录区间。

那么只收集正利润就是贪心所贪的地方！

- 局部最优：<strong>收集每天的正利润</strong>
- 全局最优：求得最大利润。

## 边界问题

如果`nums`为`null`，直接返回`-1`

## Java代码
```java
class Solution {
    public int maxProfit(int[] prices) {
        if (prices == null){
            return -1;
        }
        
        int res = 0;
        for (int i = 1; i < prices.length; i++){
            if (prices[i] <= prices[i - 1]){
                continue;
            }
            //在出现上升时，在上升前买入并在上升后立即卖出
            res += prices[i] - prices[i - 1];
        }
        return res;
    }
}
```

## 复杂度分析
- 时间复杂度：$O(N)$，其中$N$分别为数组`nums`的长度
- 空间复杂度：$O(1)$

# 官方解法

## 基本思路

学完动态规划再做一遍